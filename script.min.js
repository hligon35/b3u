/* Minified build of script.js on 2025-09-06. Functionally identical, smaller payload. */
"use strict";document.addEventListener("DOMContentLoaded",function(){try{const e=document.querySelectorAll('.video-frame iframe[src*="youtube.com/embed/"]');e.forEach((e=>{const t=e.getAttribute("src")||"",n=t.match(/embed\/(.*?)\b/),o=n?n[1]:null;if(!o)return;const a=e.parentElement,i=document.createElement("button");i.type="button",i.className="yt-lite",i.setAttribute("aria-label","Play video"),i.style.backgroundImage=`url(https://i.ytimg.com/vi/${o}/hqdefault.jpg)`,i.innerHTML='<span class="play-btn" aria-hidden="true"></span>',a.innerHTML="",a.appendChild(i),i.addEventListener("click",(()=>{const e=document.createElement("iframe"),t=`https://www.youtube-nocookie.com/embed/${o}`,n="autoplay=1&rel=0&modestbranding=1&playsinline=1";e.src=`${t}?${n}`,e.setAttribute("title","YouTube video player"),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.allowFullscreen=!0,a.innerHTML="",a.appendChild(e)}))}))}catch(e){console.warn("Lite YouTube enhancement skipped:",e)}const e=document.getElementById("featured-episodes-dynamic");if(!e)return;const t="UCSrtA1gGlgo4cQUzoSlzZ5w",n=`https://www.youtube.com/feeds/videos.xml?channel_id=${t}`,o=`https://api.codetabs.com/v1/proxy/?quest=${encodeURIComponent(n)}`;fetch(o).then((e=>e.text())).then((e=>(new window.DOMParser).parseFromString(e,"text/xml"))).then((t=>{const n=Array.from(t.querySelectorAll("entry")).slice(0,3);e.innerHTML="",n.forEach(((t,n)=>{var o,a;const r=(null===(o=t.querySelector("title"))||void 0===o?void 0:o.textContent)||"Untitled",i=(null===(a=t.querySelector("link"))||void 0===a?void 0:a.getAttribute("href"))||"#",l=(t.querySelector("published")||{}).textContent||"",c=l?new Date(l).toLocaleDateString():"",s=(t.querySelector("media\\:thumbnail, thumbnail")||{}).getAttribute?t.querySelector("media\\:thumbnail, thumbnail").getAttribute("url"):"";e.innerHTML+=`<div class="featured-video-card" style="background:#2c3e50;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);padding:18px 16px;max-width:340px;min-width:220px;display:flex;flex-direction:column;align-items:center;transition:box-shadow 0.2s;"><div class="featured-label" style="background:#ff6b35;color:#fff;font-weight:600;padding:4px 12px;border-radius:6px;margin-bottom:10px;font-family:'Oswald',sans-serif;letter-spacing:1px;">Latest Video ${n+1}</div><img src="${s}" alt="${r}" style="width:120px;height:auto;border-radius:8px;margin-bottom:10px;box-shadow:0 1px 6px rgba(0,0,0,0.10);object-fit:cover;" loading="lazy"><h3 style="color:#fff;font-family:'Oswald',sans-serif;font-size:1.1rem;text-align:center;margin:0 0 8px 0;">${r}</h3><div class="episode-meta" style="color:#f8f9fa;font-size:0.95rem;margin-bottom:8px;">${c}</div><a href="${i}" class="episode-link" target="_blank" rel="noopener" style="background:#ff6b35;color:#fff;padding:7px 18px;border-radius:6px;text-decoration:none;font-weight:500;font-family:'Inter',sans-serif;transition:background 0.2s;">Watch on YouTube ▶</a></div>`}))})).catch((t=>{e.innerHTML='<p>Unable to load latest episodes at this time.</p>'}))}),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("nav-toggle"),t=document.getElementById("nav-menu");e&&t&&e.addEventListener("click",(function(n){n.stopPropagation(),t.classList.toggle("active"),document.body.classList.toggle("nav-open");const o="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",String(!o));const a=e.querySelectorAll(".bar");a.forEach(((e,n)=>{t.classList.contains("active")?(0===n&&(e.style.transform="rotate(-45deg) translate(-5px, 6px)"),1===n&&(e.style.opacity="0"),2===n&&(e.style.transform="rotate(45deg) translate(-5px, -6px)")):(e.style.transform="none",e.style.opacity="1")}))}));const n=document.querySelectorAll(".nav-link");n.forEach((e=>{e.addEventListener("click",(()=>{t&&t.classList.contains("active")&&(t.classList.remove("active"),document.body.classList.remove("nav-open"),e&&e.setAttribute("aria-expanded","false"),e&&e.querySelectorAll&&e.querySelectorAll(".bar").forEach((e=>{e.style.transform="none",e.style.opacity="1"}))),n.forEach((e=>e.removeAttribute("aria-current"))),e.setAttribute("aria-current","page")}))})),n.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=n.offsetTop-70;window.scrollTo({top:e,behavior:"smooth"})}}))})),window.addEventListener("scroll",(function(){const e=document.querySelectorAll("section[id]"),t=window.scrollY+100;e.forEach((e=>{const o=e.offsetTop,a=e.offsetHeight,r=e.getAttribute("id"),i=document.querySelector(`.nav-link[href="#${r}"]`);t>=o&&t<o+a&&(n.forEach((e=>{e.classList.remove("active"),e.removeAttribute("aria-current")})),i&&(i.classList.add("active"),i.setAttribute("aria-current","page")))}))}));const o=document.querySelector(".contact-form form");if(o&&o.addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(o),n=t.get("name"),a=t.get("email"),r=t.get("subject"),i=t.get("message"),l=t.get("extra_field")||t.get("company");if(!n||!a||!r||!i)return void showNotification("Please fill in all fields.","error");if(!function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(a))return void showNotification("Please enter a valid email address.","error");if(l)return showNotification("Thanks! Your message has been received.","success"),void o.reset();const c=o.getAttribute("data-gas-endpoint")||"",s=document.getElementById("form-status");s&&(s.textContent="Sending…",s.className="form-status form-status--sending"),c?async function(e,t){const n=o.querySelector('button[type="submit"]'),a=n.textContent;try{const r=new FormData;Object.entries(t).forEach((([e,t])=>r.append(e,null!=t?t:""))),await fetch(e,{method:"POST",mode:"no-cors",body:r}),n.textContent=a,n.disabled=!1;return!0}catch(e){throw n.textContent=a,n.disabled=!1,e}}(c,{name:n,email:a,subject:r,message:i,company:l,extra_field:l}).then((()=>{showNotification("Message sent successfully! We'll get back to you soon.","success"),s&&(s.textContent="Message sent successfully!",s.className="form-status form-status--success"),o.reset()})).catch((e=>{console.error("GAS send failed:",e),async function(e,t,n,a,r=""){const i=o.querySelector('button[type="submit"]'),l=i.textContent;i.textContent="Sending...",i.disabled=!0;try{const o=await fetch("send-email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,subject:n,message:a,company:r})}),c=await o.json();if(c.success)showNotification("Message sent successfully! We'll get back to you soon.","success"),document.getElementById("form-status")&&(document.getElementById("form-status").textContent="Message sent successfully!",document.getElementById("form-status").className="form-status form-status--success"),o&&o.reset&&(o.reset(),i.textContent=l,i.disabled=!1);else throw new Error(c.message||"Failed to send email")}catch(e){console.error("Direct email failed:",e),showNotification("Unable to send message directly. Please try the email client option.","error");const t=document.getElementById("form-status");t&&(t.textContent='Could not send via server. Use "Open Email App" below.',t.className="form-status form-status--error"),i.textContent=l,i.disabled=!1,function(e,t,n,a){const r=document.getElementById("email-client-fallback");r&&(r.style.display="inline-block",r.onclick=()=>function(e,t,n,a){const r="BreeCharles@b3unstoppable.com",i="B3U Message!!!",l=`\nHello B3U Podcast Team,\n\nContact Information:\n- Name: ${e}\n- Email: ${t}\n- Subject: ${n}\n\nMessage:\n${a}\n\n---\nThis message was sent from the B3U Podcast website contact form.\n`.trim(),c=`mailto:${r}?subject=${encodeURIComponent(i)}&body=${encodeURIComponent(l)}`;try{window.location.href=c,showNotification("Email client opened! Please send the message from your email app.","success");const e=document.getElementById("email-client-fallback");e&&(e.style.display="none")}catch(e){console.error("Error opening email client:",e),showNotification("Could not open email client. Please contact us directly at BreeCharles@b3unstoppable.com","error")}}(e,t,n,a))}(e,t,n,a)}})(n,a,r,i)}):(async function(e,t,n,a,r=""){const i=o.querySelector('button[type="submit"]'),l=i.textContent;i.textContent="Sending...",i.disabled=!0;try{const o=await fetch("send-email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,subject:n,message:a,company:r})}),c=await o.json();if(c.success)showNotification("Message sent successfully! We'll get back to you soon.","success"),document.getElementById("form-status")&&(document.getElementById("form-status").textContent="Message sent successfully!",document.getElementById("form-status").className="form-status form-status--success"),o&&o.reset&&(o.reset(),i.textContent=l,i.disabled=!1);else throw new Error(c.message||"Failed to send email")}catch(e){console.error("Direct email failed:",e),showNotification("Unable to send message directly. Please try the email client option.","error");const t=document.getElementById("form-status");t&&(t.textContent='Could not send via server. Use "Open Email App" below.',t.className="form-status form-status--error"),i.textContent=l,i.disabled=!1,function(e,t,n,a){const r=document.getElementById("email-client-fallback");r&&(r.style.display="inline-block",r.onclick=()=>function(e,t,n,a){const r="BreeCharles@b3unstoppable.com",i="B3U Message!!!",l=`\nHello B3U Podcast Team,\n\nContact Information:\n- Name: ${e}\n- Email: ${t}\n- Subject: ${n}\n\nMessage:\n${a}\n\n---\nThis message was sent from the B3U Podcast website contact form.\n`.trim(),c=`mailto:${r}?subject=${encodeURIComponent(i)}&body=${encodeURIComponent(l)}`;try{window.location.href=c,showNotification("Email client opened! Please send the message from your email app.","success");const e=document.getElementById("email-client-fallback");e&&(e.style.display="none")}catch(e){console.error("Error opening email client:",e),showNotification("Could not open email client. Please contact us directly at BreeCharles@b3unstoppable.com","error")}}(e,t,n,a))}(e,t,n,a)}})(n,a,r,i))})),document.addEventListener("keydown",(function(n){"Escape"===n.key&&t&&t.classList.contains("active")&&(t.classList.remove("active"),document.body.classList.remove("nav-open"),e&&(e.setAttribute("aria-expanded","false"),e.querySelectorAll(".bar").forEach((e=>{e.style.transform="none",e.style.opacity="1"})))})})),document.addEventListener("click",(function(n){if(t&&t.classList.contains("active")){const o=t.contains(n.target),a=e&&e.contains(n.target);o||a||(t.classList.remove("active"),document.body.classList.remove("nav-open"),e&&(e.setAttribute("aria-expanded","false"),e.querySelectorAll(".bar").forEach((e=>{e.style.transform="none",e.style.opacity="1"}))))}}))}));function showNotification(e,t="info"){const n=document.querySelector(".notification");n&&n.remove();const o=document.createElement("div");o.className=`notification notification-${t}`,o.setAttribute("role","error"===t?"alert":"status"),o.setAttribute("aria-live","error"===t?"assertive":"polite"),o.innerHTML=`<div class="notification-content"><span class="sr-only">${"error"===t?"Error:":"success"===t?"Success:":"Notice:"}</span><span class="notification-message">${e}</span><button class="notification-close">&times;</button></div>`,o.style.cssText=`position:fixed;top:90px;right:20px;background:${"success"===t?"#2ecc71":"error"===t?"#e74c3c":"#3498db"};color:white;padding:15px 20px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:10000;max-width:400px;transform:translateX(100%);transition:transform 0.3s ease;`,document.body.appendChild(o),setTimeout((()=>{o.style.transform="translateX(0)"}),100);o.querySelector(".notification-close").addEventListener("click",(()=>{removeNotification(o)})),setTimeout((()=>{document.body.contains(o)&&removeNotification(o)}),5e3)}function removeNotification(e){e.style.transform="translateX(100%)",setTimeout((()=>{document.body.contains(e)&&e.remove()}),300)}const animationStyles=document.createElement("style");animationStyles.textContent=".animate-in{animation:slideInUp .6s ease forwards}@keyframes slideInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.notification-content{display:flex;align-items:center;justify-content:space-between;gap:15px}.notification-close{background:none;border:none;color:white;font-size:20px;cursor:pointer;padding:0;line-height:1}.notification-close:hover{opacity:.7}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}",document.head.appendChild(animationStyles);function lazyLoad(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target;t.src=t.dataset.src,t.classList.remove("lazy"),n.unobserve(t)}}))}));const n=t;e.forEach((e=>t.observe(e)))}document.addEventListener("DOMContentLoaded",lazyLoad),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".episode-link").forEach((e=>{e.addEventListener("click",(()=>{let t="Episode";const n=e.closest(".episode-card");if(n){const e=n.querySelector("h3");e&&(t=e.textContent)}console.log("Event tracked:","episode_click",{episode_title:t})}))}));const e=document.querySelector(".contact-form form");e&&e.addEventListener("submit",(()=>{console.log("Event tracked:","contact_form_submit",{})})),document.querySelectorAll(".nav-link").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("href").replace("#"," ");console.log("Event tracked:","navigation_click",{section:t})}))}));const t=document.getElementById("cover-image");if(t){const e=["images/B3Upro.jpeg","images/B3Upro1.jpeg","images/B3Upro2.jpeg"];let n=0;setInterval((function(){n=(n+1)%e.length,t.style.opacity="0",setTimeout((function(){t.src=e[n],t.style.opacity="1"}),100)}),2e3)}}));const YOUTUBE_CHANNEL_ID="UCSrtA1gGlgo4cQUzoSlzZ5w",YOUTUBE_RSS_URL=`https://www.youtube.com/feeds/videos.xml?channel_id=${YOUTUBE_CHANNEL_ID}`;document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("latest-episodes");if(!e)return;const t=[`https://api.codetabs.com/v1/proxy/?quest=${encodeURIComponent(YOUTUBE_RSS_URL)}`];!function n(o=0){fetch(t[o]).then((e=>e.text())).then((t=>{const n=(new window.DOMParser).parseFromString(t,"text/xml"),o=n.querySelectorAll("entry");if(!o.length)throw new Error("No episodes found in RSS feed.");let a="";o.forEach(((t,n)=>{if(!(n>=3)){const o=t.querySelector("title").textContent,r=t.querySelector("link").getAttribute("href"),i=t.querySelector("published").textContent,l=(null==t.querySelector("media\\:thumbnail")?void 0:t.querySelector("media\\:thumbnail").getAttribute("url"))||"images/youtube.png";a+=`<div class="episode-card"><a href="${r}" target="_blank" rel="noopener" class="episode-link"><img src="${l}" alt="${o}" loading="lazy" class="episode-thumb" /><h3>${o}</h3><p class="episode-date">${new Date(i).toLocaleDateString()}</p></a></div>`}})),e.innerHTML=a})).catch((a=>{o+1<t.length?n(o+1):(console.error("Failed to load YouTube episodes:",a),e.innerHTML='\n            <p>Unable to load latest episodes. Please visit our <a href="https://www.youtube.com/@B3uCreatingSuccess" target="_blank">YouTube channel</a>.</p>\n        ')}))}() }));
